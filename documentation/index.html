<!DOCTYPE html>
<html lang="ro" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>UICS - technical report</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&family=Ubuntu:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="/public/unwe.ico">
</head>

<body prefix="schema: http://schema.org">
    <header>
        <h1>UICS - technical report</h1>
    </header>

    <ol>
        <li>
            <span>1. </span><a href="#project-progress">Project progress</a>
            <ol>
                <li><span>1.1 </span><a href="#frontend">Frontend</a></li>
                <li><span>1.2 </span><a href="#backend">Backend</a></li>
                <li><span>1.3 </span><a href="#language">Language constructs</a></li>
            </ol>
        </li>
        <li><span>2. </span><a href="#implemented-api">Implemented API</a></li>
        <li><span>3. </span><a href="#rdf-model">RDF based knowledge model - Ontology</a></li>
        <li><span>4. </span><a href="#external-data">Use of external data</a></li>
        <li><span>5. </span><a href="#diagrams">Diagrams</a></li>
        <li><span>6. </span><a href="#user-guide">User guide</a></li>
    </ol>

    <div class="top-info" role="contentinfo">
        <dl>
            <dt>Authors</dt>
            <dd typeof="schema:ContributorRole" property="schema:author">
                <span typeof="schema:Person">
                    <meta property="schema:givenName" content="Alexandru">
                    <meta property="schema:additionalName" content="Dumitru">
                    <meta property="schema:familyName" content="Huțu">
                    <a href="https://github.com/PrEaDiVviN">
                        <span property="schema:name">Alexandru-Dumitru Huțu</span>
                    </a>
                </span>
            </dd>
            <dd typeof="schema:ContributorRole" property="schema:author">
                <span typeof="schema:Person">
                    <meta property="schema:givenName" content="Iulian">
                    <meta property="schema:familyName" content="Vultur">
                    <a href="https://github.com/iulyus01">
                        <span property="schema:name">Iulian Vultur</span>
                    </a>
                </span>
            </dd>
            <dt>Licență</dt>
            <dd>
                <a href="https://opensource.org/licenses/MIT">MIT</a>
            </dd>
        </dl>
    </div>

    <section id="project-progress">
        <h2><span>1. </span>Project progress</h2>

        <p>
            <b>Initial goals</b>
            <br><br>
            Initially the project was to be realized as a browser application containing 2 pages, one where the user will learn about the language 
            and possible language constructs and where they will be able to introduce the desired text to get the page design. And the other page, 
            where the user will see the constructed page based on their inserted text.
            <br><br>
            For the initial components the design was made as a template for future references and here are some examples: <br><br>
            example1: <span class="mono">Build a gray main section having a download button, 5 images, a black header section having a gray paragraph with bold white text "The quick brown fox jumps over the lazy dog".</span> <br>
            example2: <span class="mono">Build a vertically arranged red aside section having 5 images, 3 paragraphs.</span> <br>
            example3: <span class="mono">Build a red navigation bar section with a link with displayed text "fb" referencing "www.facebook.com", a link with displayed text "yt" referecing "www.youtube.com".</span> <br>
            example4: <span class="mono">Build a green decimal ordered list of 2 images, 3 paragraphs, 4 download buttons.</span> <br>
            example5: <span class="mono">Build a gray table with 5 images, 5 paragraphs, 5 cancel buttons by rows.</span> <br>
            example6: <span class="mono">Build a yellow table of 5 lines 7 columns with a red dotted border of 5 pixels arranged start to finish by rows having a cancel button, a paragraph each.</span> <br>
            example7: <span class="mono">Build a gray main section having a red paragraph with bold and italic text "hello from the other side" having arial style of 16 pixels placed below.</span> <br>
            example8: <span class="mono">Build a gray main section having a purple paragraph with bold and italic red text "hello from the other side" having Arial style of 32 pixels.</span> <br>
            example9: <span class="mono">Build a gray main section having a cancel button. An alert displaying "welcome to our website" after 15 seconds.</span> <br>
            example10: <span class="mono">Build a gray main section having a small red search input with input text of 5 pixels.</span> <br>
            example11: <span class="mono">Build a gray main section having a big green photogalerry with photos "C://Users/Alex/photo1.png"; "C://Users/Alex/photo2.png"; "C://Users/Alex/photo3.png".</span> <br>
            example12: <span class="mono">Build a gray main section having a small red user profile with Arial red username "alex" and image with source="C://Users/Alex/profile.jpg".</span> <br>
            example13: <span class="mono">Build a gray main section having a medium calendar.</span> <br>
            example14: <span class="mono">Build a gray main sectino having a small video.</span> <br>
            example15: <span class="mono">Build a gray main section having a small audio.</span> <br>

            <br>
            <img class="img-ss-400" src="architecture documentation\images\example1.png" alt="Example 1">
            <img class="img-ss-400" src="architecture documentation\images\example2.png" alt="Example 2">
            <img class="img-ss-400" src="architecture documentation\images\example3.png" alt="Example 3">
            <img class="img-ss-400" src="architecture documentation\images\example4.png" alt="Example 4">
            <img class="img-ss-400" src="architecture documentation\images\example5.png" alt="Example 5">
            <img class="img-ss-400" src="architecture documentation\images\example6.png" alt="Example 6">
            <img class="img-ss-400" src="architecture documentation\images\example7.png" alt="Example 7">
            <img class="img-ss-400" src="architecture documentation\images\example8.png" alt="Example 8">
            <img class="img-ss-400" src="architecture documentation\images\example9.png" alt="Example 9">
            <img class="img-ss-400" src="architecture documentation\images\example10.png" alt="Example 10">
            <img class="img-ss-400" src="architecture documentation\images\example11.png" alt="Example 11">
            <img class="img-ss-400" src="architecture documentation\images\example12.png" alt="Example 12">
            <img class="img-ss-400" src="architecture documentation\images\example13.png" alt="Example 13">
            <img class="img-ss-400" src="architecture documentation\images\example14.png" alt="Example 14">
            <img class="img-ss-400" src="architecture documentation\images\example15.png" alt="Example 15">
        </p>

        <p>
            <b>Requirements</b>
            <br><br>
            // TODO
        </p>

        <section id="frontend">
            <h3><span>1.1 </span>Frontend</h3>

            <p>
                The UI side of the application was made using ###React library along with different libraries e.g. ###axios, ###router-dom, and 
                technologies like ###sass and ###typescript. <br>
                The development started with the main pages of the application
                <ul>
                    <li>the home page on the <span class="mono">/</span> (home) path</li>
                    <li>the generation page on the <span class="mono">/generation</span> path</li>
                </ul>
            </p>
            <p>
                The home page contains the information for the language and examples of possible constructs used for the page generation and an
                input for said constructs which, when submited will be validated and will take the user to the generated design.
            </p>
            <p>
                And for the generation page, once the page is loaded, all the elements specified in the previous input will be generated, styled and 
                positioned in the manner described by the user.
            </p>

            <img class="img-ss" src="architecture documentation\diagrams\FE_class_diagram.drawio.png" alt="FE class and concept diagram">
            
            <p>
                The above image shows the frontend class and concept diagram of the application. At the root level there's the App that manages the routes 
                of the app, then there's the HomePage with the specified elements and the submit listener for the input where, once triggered will capture 
                the user typed text and will send it to the <span class="mono">generatePage</span> method from the <span class="mono">GenerationService</span>.
                It will then make a post request with the text to the API server.
                <br>
                Once a response is received, it will then check the status, if it's an error it will show the cause below the input for the user to see, 
                otherwise it will be adjusted to match the structures and interfaces. The adjustment consists of mapping the values of the element's 
                properties to the values of the existing enums and also modifying the default source of assets for image background, audio and video by 
                setting a default url for each category.
                <br>
                <img class="img-ss-small" src="architecture documentation\images\PageStructure.png" alt="Received adjusted page structure">
                <br>
                The adjusted response will be a PageStructure containing the sections to be shown. The main, list and table sections will represent the 
                main content of the page, only one of them being present in a response. The ratio of the elements vertically will be 12 / 6 / 76 / 6 and
                horizontally it will be 70 / 30.
                <br>
                <img class="img-ss-small" src="architecture documentation\images\Structure.png" alt="Structure">
                <img class="img-ss-small" src="architecture documentation\images\ListStructure.png" alt="List structure">
                <img class="img-ss-small" src="architecture documentation\images\TableStructure.png" alt="Table structure">
                <br>
                Each section will either extend a basic Structure or a specific structure for list (ListStructure) or table (TableStructure), containing 
                some styling properties and a list of elements to be shown.
                <br>
                The list of elements is iterated and for every item it will generates a specific component with the styling and properties described in 
                the element. The components can be either of:
            </p>
            <ul>
                <li>Audio</li>
                <li>Button</li>
                <li>Calendar</li>
                <li>Heading</li>
                <li>Image</li>
                <li>Input</li>
                <li>Link</li>
                <li>Paragraph</li>
                <li>PhotoGallery</li>
                <li>Profile</li>
                <li>Slider</li>
                <li>Video</li>
            </ul>
            <p>
                Each component can be customized by some parameters which will be taken into consideration when generating the html and the styling.
                <br>
                The styling is made by adapting the ###tailwind css model along with standard style classes to dinamically set the appearance of the 
                components using the object properties.
            </p>
            <img class="img-ss" src="architecture documentation\images\pageLayout.png" alt="Page layout">
            <p>
                The layout of the generated page is partitioned as shown in the above image, the navbar and the footer having the smaller ratio of 6%.
                In case the elements to be displayed do not fit into the container, then the main section will be extended vertically, with the minimum 
                height of 76% of the screen.
                <br>

            </p>
        </section>

        <section id="backend">
            <h3><span>1.2 </span>Backend</h3>
            <p>
                <b>Description</b>
                <br>

                The main functionality provided by backend is parsing the natural language text to json representation of 
                <a href="#JsonResponseSchema">JsonResponseSchema</a> 
                so that the frontend will be able to easily convert that response to UI functionality. This conversions is based both on used properties added to 
                objects and also default values if none were supplied. The default values were obtained from the <a href="#ontology">Ontology</a> instances. Other functionality
                provided by backend is sending default videos, audios and images.
            </p>
            
            <img class="img-ss" src="architecture documentation\diagrams\FlowDiagram.jpg" alt="Backend flow diagram">

            <p>
                <b>Used libraries for main functionality</b>
                <br>
                The backend API was all written in ###Python. Between the external libraries used we have ###Flask, ###Moviepy and ###rdflib. Flask was 
                used for providing the routes and return data because it can be used easily and has great extensibility. The routher provided by flask 
                are /audio, /video, /image, /language. MoviePy was used to crop the video file to the specified length. No other usage in the project.
                <br>
                Rdflib was used for querying instances from the database in case when calling /language route, objects did not have all properties set.
                So, default entities were created and from them these values will be selected.
            </p>

            <p>
                <b>Entities</b>
                <br>
                Available values for entities properties were added to a data class named AvailableProperties. All entities will extend a base class named
                BaseEntity which has 2 properties, available properties, explained before and baseEntityQuery, see in next section. Also, this class has
                an abstract method toJson, which should return a json representation of the object. Every one of these objects have different properties
                and one most commonly used is TextProperties, which is another entity class. This entities are strongly coupled BaseEntityQuery. The flow
                is as follows: we create the object and before finishing the creation, inside the constructor, we query the antology for default values,
                combine the result and the transform the object to json <a href="#JsonResponseSchema">JsonResponseSchema</a>. These entities are separated
                in two categories: compositional objects and structural ones. These distinction was made because the compositional elements are end
                element which mainly do not contain other elements in them whereas structural ones do contain more compositional elements inside them.
                Between compositional object we have: Image, Video, Alert, Audio, PhotoGallery, Button, Paragraph, Heading, Profile, Input, Link, Slider,
                Calender and TextProperties. Structural elements are: List, Header, Navbar, Table, Footer, Aside.
                <br>
                <br>
                <img class="img-ss-small" src="architecture documentation\images\AlertEntitiy.PNG" alt="Alert entity">
            </p>

            <p>
                <b>SPARQL Queries</b>
                <br>
                As explained above, sparql queries were used to obtain default values from the default instances in the antology. For obtaining this
                data, two helper classes were created (QueryExecutor, GenericQuery). First one is used for more complex queries which cannot be easily
                done in a generic setup, when the second one is used for generic queries which can be easily implemented on a key, keyToProp base.
                What I mean by key, keyToProp base is that, for every missing key, we have a specific part of the query which can be easily added to the
                map with the name of the key. In some cases, this is not possible because of the need of nested object, for example TextProperties, where
                Query executor will be used. These helper clases will be used in specific query classes based on the object type. All classes with
                extend the functionaliy of the BaseEntityQeury class having an execute method with required argument keys and a map from key (meaning
                object properties) to part of the sparql query that will extract data. Between these classes we have: QuerySlider, QueryImage,
                QueryCalendar, QueryAlert, QueryAudio, QueryButton, QueryVideo, QueryHeader, QueryPhotoGallery, QueryList, QueryTable, QueryMain,
                QueryFooter, QueryAside, QueryNavba, QueryParagraph, QueryHeading, QueryInput, QueryProfile, QueryLink.
                <br>
                <br>
                <img class="img-ss-small" src="architecture documentation\images\QueryExecutor.png" alt="Query executor">
                <br>
                <img class="img-ss-small" src="architecture documentation\images\queryAlert.png" alt="Query alert">
            </p>

            <p id="LanguageParser">
                <b>Language Parsers</b>
                <br>
                The top level class responsible of handling the the parsing of the given text is the LanguageParser, which will separate text by known
                structural entities, and valitate that the text respects the requiments added in the <a href="#language">language</a>. Of course, there
                is a big difference between parsing compositional elements and structural ones. As compositional are end level, they do not need further parsing whereas
                strutural ones, need also a parsing on the element level. So, by parsing structural elements, we also then parse inside this be
                compositional ones. So then a new class will be needed, named ElementParser which will parse this compositional elements by their known
                text representation. This class will provide a switch functionality of selecting the correct parser for each element. Between these
                parsers we have: ParseAlert, ParseAudio, ParseButton, ParseCalendar, ParseHeading, ParseImage, ParseInput, ParseParagraph,
                ParsePhotoGallery, ParseNavbar, ParseMain, ParseList, parseFooter, ParseHeader, PArseAside, ParseVideo, ParseUserProfile, ParseSlider,
                ParseTable.
            </p>

            <p>
                <b>Flask HTTP APP</b>
                <br>
                The flask application will be responsabile of redirecting the request to their solving implementations. So mainly speaking of /language
                route. If the flow is correct, an success response of <a href="#JsonResponseSchema">JsonResponseSchema</a> is send. If not, then if the
                error is a know one, it is returned and if possible the position where it does occur. If the error is not know, then a generic error
                message is send and an a recommandation to visit the <a href="#language">language</a> docs to better understand how to write the query
                data. See befow image to better understand the backend components.
                <br>
                <br>
                <img class="img-ss" src="architecture documentation\diagrams\ClassDiagram.jpg" alt="Backend class diagram">
            </p>

            <p id="JsonResponseSchema">
                <b>Backend response schema</b>
                <br>
                The responses returned by the /language api are in json format and have the following structure. The first, status property states
                wheter or not an error has occured. Of course, ERROR means an error occured and SUCCCES mean the FRONTEND can parse it to create the
                interface. Both of them have then, and response object, which has different construction in each case. In case of error, ERROR_REASON
                states why the error occured and the positionInText states where the error occured. If the error is not a predefined one, then an
                generic error message is returned and positionInText states that it is not available. The success reponse, then contains a list of
                sections. This list of sections respect the <a href="#language">language</a> requirements. And this list is a uppercase list containing
                the names of all available sections in the UI. After that, each available structural sections is added with their properties and their
                list of elements. See below explained schema for a better understanding of how these json representation look like.
                <br>
                <br>

                <b>Properties Metadata - Enums</b><br>
                <span class="mono">SECTION = HEADER|NAVBAR|MAIN|TABLE|LIST|ASIDE|FOOTER|ALERT</span><br>
                <span class="mono">ARRANGE = VERTICALLY|HORITANLTALLY</span><br>
                <span class="mono">COLOR = BLACK|BLUE|BROWN|GRAY|GREEN|ORANGE|PURPLE|RED|WHITE|YELLOW</span><br>
                <span class="mono">DECORATION = BOLD|ITALIC|UNDERLINED|BOLD_ITALIC|BOLD_UNDERLINED|ITALIC_UNDERLINED</span><br>
                <span class="mono">FONT_STYLE = ARIAL|BRUSH_SCRIPT_MT|COURIER_NEW|GARAMOND|GEORGIA|TAHOMA|TIMES_NEW_ROMAN|VERDANA</span><br>
                <span class="mono">POSITION = ABOVE|BELOW|LEFT|RIGHT</span><br>
                <span class="mono">INPUT_TYPE = SEARCH|TEXT_INPUT</span><br>
                <span class="mono">VIDEO_QUALITY = 144|240|360|480|720|1080</span><br>
                <span class="mono">SIZE = SMALL|MEDIUM|BIG</span><br>
                <span class="mono">BOOLEAN = TRUE|FALSE</span><br>
                <span class="mono">BUTTON_TYPE = CANCEL|DOWNLOAD|EDIT|RESET|SAVE|SUBMIT|NONE</span><br>
                <span class="mono">SLIDER_TYPE = ZOOM|OPACITY</span><br>
                <span class="mono">BORDER_STYLE = DASHED|DOTTED|DOUBLE|GROOVE|SOLID</span><br>
                <span class="mono">LIST_TYPE = ORDERED|UNORDORED</span><br>
                <span class="mono">MARKER = DECIMAL|LOWER_ALPHA|LOWER_LATIN|UPPER_ALPHA|UPPER_LATIN|CIRCLE|DISC|SQUARE</span><br>
                <br><br>

                <b>Properties Metadata - Explained In Natural Language</b><br>
                <span class="mono">SOURCE</span> -> Image|Video|Audio reference to where the file is found.<br>
                <span class="mono">BUTTON_SOURCE</span> -> SOURCE or empty string.<br>
                <span class="mono">REFERENCE</span> -> HTTP web reference.<br>
                <span class="mono">LENGTH</span> -> Video|Audio playtime duration in minutes.<br>
                <span class="mono">TEXT</span> -> String representing the text to be displayed.<br>
                <span class="mono">FONT_SIZE</span> -> Integer representing the size of the displayed text in pixels.<br>
                <span class="mono">DELAY</span> -> Integer representing the delay to wait before an alert appears.<br>
                <span class="mono">PHOTO_NUMBER</span> -> Number of photos that should be displayed in this photo gallery.<br>
                <span class="mono">VALUE</span> -> Integer value representing how low|high a slider can go.<br>
                <span class="mono">NUMBER</span> -> Integer value > 0 representing number of columns/rows in a table or number of elements.<br>
                <span class="mono">BORDER_WIDTH</span> -> Integer value > 0 representing the border width of a table.<br>
                <span class="mono">ERROR_REASON</span> -> Why the error occured.<br>
                <span class="mono">POSITION_IN_TEXT</span> -> Where the error occured.<br>
                <br><br>

                <b>Structural Subelements Conceptual Representation Section</b><br>
                <span class="mono">MATRIX</span> = matrix of lists of COMPOSITIONAL elements<br>
                example: <br>
                <span class="mono">
                    [<br>
                    &emsp;&emsp;[paragraph:.., paragraph:.., paragraph:..]<br>
                    &emsp;&emsp;[image:.., image:.., image:..]<br>
                    &emsp;&emsp;[button:.., button:.., button:..]<br>
                    ]<br>
                </span>
                <br>

                <span class="mono">LIST_ELEMENTS</span> = list of pair (NUMBER, COMPONENT element, POSITION)<br>
                example:<br>
                <span class="mono">
                    [ <br>
                    &emsp;&emsp;{ <br>
                    &emsp;&emsp;&emsp;&emsp;apparitions: 3, <br>
                    &emsp;&emsp;&emsp;&emsp;element: paragraph:.., <br>
                    &emsp;&emsp;&emsp;&emsp;position: POSITION <br>
                    &emsp;&emsp;}, <br>
                    &emsp;&emsp;{ <br>
                    &emsp;&emsp;&emsp;&emsp;apparitions: 2, <br>
                    &emsp;&emsp;&emsp;&emsp;element: image:.., <br>
                    &emsp;&emsp;&emsp;&emsp;position: POSITION <br>
                    &emsp;&emsp;} <br>
                    ] <br>
                </span>
                <br><br>
                
                <b>Json Response Section</b><br>
                <span class="mono">
                    { <br>
                        &emsp;&emsp;status: "ERROR", <br>
                        &emsp;&emsp;response: { <br>
                        &emsp;&emsp;&emsp;&emsp;reason: ERROR_REASON, <br>
                        &emsp;&emsp;&emsp;&emsp;positionInText: POSITION_IN_TEXT <br>
                        &emsp;&emsp;} <br>
                    } <br>
                </span>

                <span class="mono">
                    { <br>
                    &emsp;&emsp;status: "SUCCESS" <br>
                    &emsp;&emsp;response: { <br>
                    &emsp;&emsp;&emsp;&emsp;sections: ["HEADER", "NAVBAR", "MAIN|TABLE|LIST", "ASIDE", "FOOTER", "ALERT"] <br>
                    &emsp;&emsp;&emsp;&emsp;header: { <br>
                    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;.. <br>
                    &emsp;&emsp;&emsp;&emsp;}, <br>
                    &emsp;&emsp;&emsp;&emsp;navbar: { <br>
                    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;.. <br>
                    &emsp;&emsp;&emsp;&emsp;}, <br>
                    &emsp;&emsp;&emsp;&emsp;main|table|list: { <br>
                    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;.. <br>
                    &emsp;&emsp;&emsp;&emsp;}, <br>
                    &emsp;&emsp;&emsp;&emsp;aside: { <br>
                    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;.. <br>
                    &emsp;&emsp;&emsp;&emsp;}, <br>
                    &emsp;&emsp;&emsp;&emsp;footer: { <br>
                    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;.. <br>
                    &emsp;&emsp;&emsp;&emsp;}, <br>
                    &emsp;&emsp;&emsp;&emsp;alert: { <br>
                    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;.. <br>
                    &emsp;&emsp;&emsp;&emsp;} <br>
                    &emsp;&emsp;} <br>
                    } <br>
                </span>
                <br><br>

                <b>Structural Elements Section</b><br>
                <span class="mono">
                    main: { <br>
                    &emsp;&emsp;backgroundColor: COLOR, <br>
                    &emsp;&emsp;sectionArrange: ARRANGE, <br>
                    &emsp;&emsp;listSize: NUMBER, <br>
                    &emsp;&emsp;elements: LIST_ELEMENTS <br>
                    } <br>
                    <br>
                    header: { <br>
                    &emsp;&emsp;backgroundColor: COLOR, <br>
                    &emsp;&emsp;sectionArrange: ARRANGE, <br>
                    &emsp;&emsp;listSize: NUMBER, <br>
                    &emsp;&emsp;elements: LIST_ELEMENTS <br>
                    } <br>
                    <br>
                    footer: { <br>
                    &emsp;&emsp;backgroundColor: COLOR, <br>
                    &emsp;&emsp;sectionArrange: ARRANGE, <br>
                    &emsp;&emsp;listSize: NUMBER, <br>
                    &emsp;&emsp;elements: LIST_ELEMENTS <br>
                    } <br>
                    <br>
                    aside: { <br>
                    &emsp;&emsp;backgroundColor: COLOR, <br>
                    &emsp;&emsp;sectionArrange: ARRANGE, <br>
                    &emsp;&emsp;listSize: NUMBER, <br>
                    &emsp;&emsp;elements: LIST_ELEMENTS <br>
                    } <br>
                    <br>
                    navBar: { <br>
                    &emsp;&emsp;backgroundColor: COLOR, <br>
                    &emsp;&emsp;listSize: NUMBER, <br>
                    &emsp;&emsp;elements: [link:.., link:.., ..] <br>
                    } <br>
                    <br>
                    list: { <br>
                    &emsp;&emsp;listType: LIST_TYPE, <br>
                    &emsp;&emsp;listMarker: MARKER, <br>
                    &emsp;&emsp;listSize: NUMBER, <br>
                    &emsp;&emsp;elements: LIST_ELEMENTS <br>
                    } <br>
                    <br>
                    table: { <br>
                    &emsp;&emsp;backgroundColor: COLOR, <br>
                    &emsp;&emsp;numberLines: NUMBER, <br>
                    &emsp;&emsp;numberColumns: NUMBER, <br>
                    &emsp;&emsp;borderColor: COLOR,  <br>
                    &emsp;&emsp;borderStyle: BORDER_STYLE,  <br>
                    &emsp;&emsp;borderWidth: BORDER_WIDTH,  <br>
                    &emsp;&emsp;matrix: MATRIX <br>
                    } <br>
                </span>
                <br><br>

                <b>Compositional Elements Section</b><br>
                <span class="mono">
                    textProperties: { <br>
                    &emsp;&emsp;fontColor: COLOR,  <br>
                    &emsp;&emsp;fontStyle: FONT_STYLE, <br>
                    &emsp;&emsp;fontSize: SIZE <br>
                    &emsp;&emsp;fontDecotation: DECORATION <br>
                    } <br>
                    <br>
                    paragraph: { <br>
                    &emsp;&emsp;backgroundColor: COLOR, <br>
                    &emsp;&emsp;text: TEXT, <br>
                    &emsp;&emsp;textProperties: .. <br>
                    } <br>
                    <br>
                    heading: { <br>
                    &emsp;&emsp;backgroundColor: COLOR, <br>
                    &emsp;&emsp;text: TEXT, <br>
                    &emsp;&emsp;textProperties: .. <br>
                    } <br>
                    <br>
                    alert: { <br>
                    &emsp;&emsp;text: TEXT, <br>
                    &emsp;&emsp;delay: DELAY <br>
                    } <br>
                    <br>
                    link: { <br>
                    &emsp;&emsp;backgroundColor: COLOR, <br>
                    &emsp;&emsp;text: TEXT, <br>
                    &emsp;&emsp;reference: REFERENCE, <br>
                    &emsp;&emsp;textProperties: .. <br>
                    } <br>
                    <br>
                    input: { <br>
                    &emsp;&emsp;type: INPUT_TYPE,  <br>
                    &emsp;&emsp;size: SIZE, <br>
                    &emsp;&emsp;backgroundColor: COLOR, <br>
                    &emsp;&emsp;textProperties: .. <br>
                    } <br>
                    <br>
                    video: { <br>
                    &emsp;&emsp;size: SIZE, <br>
                    &emsp;&emsp;looped: BOOLEAN, <br>
                    &emsp;&emsp;videoLength: LENGTH, <br>
                    &emsp;&emsp;source: SOURCE, <br>
                    &emsp;&emsp;quality: VIDEO_QUALITY <br>
                    } <br>
                    <br>
                    audio: { <br>
                    &emsp;&emsp;size: SIZE, <br>
                    &emsp;&emsp;looped: BOOLEAN, <br>
                    &emsp;&emsp;audioLength: LENGTH, <br>
                    &emsp;&emsp;source: SOURCE <br>
                    } <br>
                    <br>
                    button: { <br>
                    &emsp;&emsp;disabled: BOOLEAN, <br>
                    &emsp;&emsp;size: SIZE, <br>
                    &emsp;&emsp;type: BUTTON_TYPE, <br>
                    &emsp;&emsp;image: BUTTON_SOURCE <br>
                    } <br>
                    <br>
                    image: { <br>
                    &emsp;&emsp;size: SIZE, <br>
                    &emsp;&emsp;source: SOURCE <br>
                    } <br>
                    <br>
                    photoGallery: { <br>
                    &emsp;&emsp;size: SIZE, <br>
                    &emsp;&emsp;backgroundColor: COLOR, <br>
                    &emsp;&emsp;photoNumber: PHOTO_NUMBER, <br>
                    &emsp;&emsp;images: [SOURCE, SOURCE, ..] <br>
                    } <br>
                    <br>
                    slider: { <br>
                    &emsp;&emsp;sliderType: SLIDER_TYPE, <br>
                    &emsp;&emsp;minValue: VALUE, <br>
                    &emsp;&emsp;maxValue: VALUE <br>
                    } <br>
                    <br>
                    profile: { <br>
                    &emsp;&emsp;size: SIZE, <br>
                    &emsp;&emsp;backgroundColor: COLOR, <br>
                    &emsp;&emsp;text: TEXT, <br>
                    &emsp;&emsp;textProperties: .., <br>
                    &emsp;&emsp;source: SOURCE <br>
                    } <br>
                    <br>
                    calendar: { <br>
                    &emsp;&emsp;size: SIZE, <br>
                    } <br>
                </span>
                <br><br>
            </p>

            <p>
                <b>Call /language API examples</b>
                <br>
                This section ilustrates the returned by the API for almost all available components. This is the exact values returned by the API.
                <br>
                <br>

                Text: <span class="mono">Build a gray main section having a small audio.</span>
                <br>
                Response:
                <br>
                <img class="img-ss-small" src="architecture documentation\images\Ex1.png" alt="Backend class diagram">
                <br>
                <br>
                
                Text: <span class="mono">Build a gray main section having a small red user profile with Arial white username "alex" and image with source="https://w.wallhaven.cc/full/7p/wallhaven-7p39gy.png".</span>
                <br>
                Response:
                <br>
                <img class="img-ss-small" src="architecture documentation\images\Ex2.png" alt="Backend class diagram">
                <br>
                <br>

                Text: <span class="mono">Build a gray main section having a big green photogallery with photos "https://w.wallhaven.cc/full/7p/wallhaven-7p39gy.png"; "https://w.wallhaven.cc/full/qz/wallhaven-qzdqvr.jpg"; "https://w.wallhaven.cc/full/l8/wallhaven-l83o92.jpg".</span>
                <br>
                Response:
                <br>
                <img class="img-ss-small" src="architecture documentation\images\Ex3.png" alt="Backend class diagram">
                <br>
                <br>

                Text: <span class="mono">Build a red navigation bar section with a link with displayed text "fb" referencing "https://facebook.com", a link with displayed text "yt" referecing "www.youtube.com".</span>
                <br>
                Response:
                <br>
                <img class="img-ss-small" src="architecture documentation\images\Ex4.png" alt="Backend class diagram">
            </p>

            <p>
                <b>Default values</b>
                <br>
                Here is a list of default values used fost components. Of course, these values can be better seen inside the ontology.
                <br>
                <br>
                audioDuration = 60 secs
                <br>
                backgroundColor = white
                <br>
                borderColor = black
                <br>
                borderStyle = solid
                <br>
                borderWidth = thin
                <br>
                buttonImageSource = default Image Button src
                <br>
                currentPlayTimeAudio = 0
                <br>
                currentPlayTimeVideo = 0
                <br>
                fontColor = black
                <br>
                fontSize = 16 | Paragraph
                <br>
                fontSize = 32 | Heading
                <br>
                fontStyle = Arial
                <br>
                hasAlertMessageString = Alert
                <br>
                hasAudioSource = default Audio src
                <br>
                hasImageSource = default Image src
                <br>
                hasLabelString = label
                <br>
                hasNumberColumns = 3
                <br>
                hasNumberLines = 2
                <br>
                hasOrdoredListStyle = decimal
                <br>
                hasUnordoredListStyle = disc
                <br>
                hasReference = external default link
                <br>
                hasTestString = This is a paragraph
                <br>
                hasUnderline = false
                <br>
                hasUsernameString = username
                <br>
                hasVideoSource = external default video link
                <br>
                isBold = false
                <br>
                isDisabled = false
                <br>
                isImageOnButton = false
                <br>
                isItalic = false
                <br>
                isLoopedVideo = false
                <br>
                isLoopedAudio = false
                <br>
                isPageContentReference = false
                <br>
                isTimedAlert = false
                <br>
                maxSlidingValue = 100
                <br>
                minSlidingValue = 0
                <br>
                placingposition = right
                <br>
                sectionArrange = horizontally
                <br>
                sectionOrder = startToFinish
                <br>
                sizeProperty = medium
                <br>
                tableArrange = rows
                <br>
                tableOrder = startToFinish
                <br>
                timeBeforeAlert = 0
                <br>
                videoDuration = 60 secs
                <br>
                qualityPixels = 720
                <br>
            </p>
        </section>

        <section id="language">
            <h3><span>1.3 </span>Language constructs</h3>
            <p>
                For a easier modeling process, a description language on which the UI response will be shows was created. The following sections will
                explain it in detail and also which examples regarding any posible elements and its available properties. Also, to remember that, even
                in this language, the components are separated into the know categories: compositional, structural.
            </p>

            <p>
                <b>Language Specification Description</b> 
                <br>
                <span class="mono">[]</span> -> optional  
                <br>
                <span class="mono">list(el , ..)</span> -> list of elements of type el 
                <br>
                <span class="mono">{el}</span> -> instance of type el  
                <br>
                <span class="mono">'it'</span> -> denotes that it is an instance (not abstract class)  
                <br>
            </p>

            <p>
                <b>Helper Descriptory Functions</b>
                <br>
                <span class="mono">size(list(el, ..))</span> -> function that returns the size of the list
                <br>
                <span class="mono">checkInstaceCount(x, el)</span> -> function that verifies if each instance of type el appears maximum x times
                <br>
                <span class="mono">checkElementsApparitions(x, elements..)</span> -> function that verifies that maximum x of the elements appear
                <br>
            </p>

            <p>
                <b>Elements Explained In Natural Language</b>
                <br>
                <span class="mono">httpReference</span> -> any http url
                <br>
                <span class="mono">videoReference</span> -> any http video reference
                <br>
                <span class="mono">audioReference</span> -> any http audio reference
                <br>
                <span class="mono">imageReference</span> -> any image http reference
                <br>
                <span class="mono">textString</span> -> any text stribg
                <br>
                <span class="mono">number</span> -> the set of natural numbers

            </p>

            <p>
                <b>Element Properties</b>
                <br>
                <span class="mono">size</span> = small|big|medium
                <br>
                <span class="mono">quality</span> = 144|240|360|480|720|1080
                <br>
                <span class="mono">color</span> = black|blue|brown|gray|green|orange|purple|red|white|yellow
                <br>
                <span class="mono">backgroundColor</span> = black|blue|brown|gray|green|orange|purple|red|white|yellow
                <br>
                <span class="mono">font</span> = arial|brush script mt|courier new|garamond|georgia|tahoma|times new roman|verdana
                <br>
                <span class="mono">textStyle</span> = bold|italic|underlined|bold and italic|bold and underlined|italic and underlined
                <br>
                <span class="mono">borderStyle</span> = dashed|dotted|double|groove|solid
                <br>
                <span class="mono">tableArrange</span> = rows|columns
                <br>
                <span class="mono">tableOrder</span> = finish to start|start to finish
                <br>
                <span class="mono">ordoredListStyle</span> = decimal|lower-alpha|upper-alpha
                <br>
                <span class="mono">unordoredListStyle</span> = circle|disc|square
                <br>
                <span class="mono">sectionArrange</span> = vertically|horizontally
                <br>
                <span class="mono">placement</span> = below|above|to the left|to the right, where this placement is related to the previous element if space available. If not, it is ignored.
            </p>

            <p>
                <b>Element Types</b>
                <br>
                <span class="mono">structuralElement</span> = listElement|sectionElement|'table'
                <br>
                <span class="mono">listElement</span> = [{ordoredListStyle}] 'ordered list'|[{unordoredListStyle}] 'unordored list'
                <br>
                <span class="mono">sectionElement</span> = contentSection|'navigation bar section'
                <br>
                <span class="mono">contentSection</span> = 'aside section'|'main section'|'footer'|'header'
                <br>
                <span class="mono">compositionalElement</span> = imageType|buttonType|inputType|'slider'|'video'|'user profile'|'photoGallery'|'link'|'calendar'|'audio'|'heading'|'paragraph'
                <br>
                <span class="mono">inputType</span> = 'search input'|'text input'
                <br>
                <span class="mono">imageType</span> = 'photo'|'logo'|'thumbnail'
                <br>
                <span class="mono">buttonType</span> = 'cancel button'|'download button'|'edit button'|'reset button'|'save button'|'submit button'
            </p>

            <p>
                <br>
                <b>Language Layout Structure Exemplification</b>
                <br>
                <br>
                Language structure:
                <br>
                Build list(structuralElement, ..). [alert], where size(list(structuralElement, ..)) &lt;"= 6 and checkInstaceCount(1, structuralElement) and checkElementsApparitions(1, main section, ListElement, table)
                <br>
                example: Build a main section having a download button, 5 images a header section having an image
                <br>
                <br>
    
                SUBSECTION = Structural language exemplification
                <br>
                listComposition=list(({number}|a|an) {compositionalElement}[s] [placed {placement}], ..)
                <br>
                example: a download button, 5 images placed above
                <br>
                <br>
    
                a [{sectionArrange} arranged] [{backgrondColor}] ({contentSection}) [having {listComposition}] 
                <br>
                example: a vertically arranged red main section having 5 images, 3 paragraphs
                <br>
                <br>
    
                a [{backgrondColor}] navigation bar section [with list(link, ..)]
                <br>
                a red navigation bar section with a link with displayed text "fb" referencing "www.facebook.com", a link with displayed text "yt" referecing "www.youtube.com"
                <br>
                <br>
    
                a [{backgrondColor}] {listElement} of {listComposition}.
                <br>
                example: A green lower-latin ordered list of 5 images, 4 paragraphs, 10 buttons.
                <br>
                <br>
    
                a [{backgrondColor}] table with list({number} (compositionalElement),..) [by rows|by column]  &lt;"= not recommended
                <br>
                a gray table with 5 images 5 paragraphs 5 buttons by rows
                <br>
                <br>
    
                a [{backgrondColor}] table of {number} lines {number} columns [with a [{color}] [{borderStyle}] border [of {number} pixels]] [arranged [{tableOrder}] by [{tableArrange}]] [having {listComposition}]
                <br>
                a yellow table of 5 lines 7 columns with a red dotted border of 5 pixels arranged start to finish by rows having a button, a paragraph each
                <br>

            </p>

            <p>
                <br>
                <b>Compositional Language Exemplification</b>
                <br>
                <br>
                a [{backgrondColor}] paragraph [with [{textStyle}] [{color}] text ["{textString}"]] [having {font} style] [of {number} pixels].
                <br>
                example: A red paragraph with bold and italic text "hello from the other side" having arial style of 16 pixels.
                <br>
                <br>
    
                a [{backgrondColor}] heading [with [{textStyle}] [{color}] text ["{textString}"]] [having {font} style] [of {number} pixels].
                <br>
                example: A purple heading with bold and italic red text "hello from the other side" having Arial style of 32 pixels.
                <br>
                <br>
    
                an alert displaying "{textString}" [after {number} seconds].
                <br>
                example: An alert displaying "welcome to our website" after 15 seconds.
                <br>
                <br>
    
                a [{backgrondColor}] link [with [{textStyle}] [{color}] displayed text ["{textString}"]] [having {font} style] [of {number} pixels] [referencing "{httpReference}"]
                <br>
                example: A red link with bold and underlined displayed text "go to facebook" having Arial style of 10 pixels referencing "www.facebook.com".
                <br>
                <br>
    
                a [[[{size}] [{backgrondColor}]] {inputType} [[with [{textStyle}] [{color}] input text] [having {font} style] [of {number} pixels]]
                <br>
                example: A small red search input with input text of 5 pixels.
                <br>
                <br>
    
                a [{size}] [looped] video [of {number} minutes] [having source="{videoReference}"] [of {quality} pixels]
                <br>
                example: A small looped video of 5 minutes having source="https://www.youtube.com/watch?v=bAVKp0X9JnQ&list=RD_3NxUWq3t_g&index=8" of 720 pixels.
                <br>
                <br>
    
                an [{size}] [looped] audio [of {number} minutes] [having source="{audioReference}"].
                <br>
                example: A big looped audio of 5 minutes having source="https://www.shutterstock.com/music.mp3".
                <br>
                <br>
    
                a [{size}] [disabled] [{buttonType}|image button with source="{imageReference}"].
                <br>
                example: A big disabled ResetButton.
                <br>
                example: A small button with source="https://www.shutterstock.com/button-photo".
                <br>
                <br>
    
                a [{size}] {imageType} with source={imageReference}.
                <br>
                example: A small image with source="https://www.shutterstock.com/image-photo".
                <br>
                <br>
    
                a [[{size}] [{backgrondColor}]] photogallery [[of {number} images]|[with photos "{imageReference}", "{imageReference}", ..]].
                <br>
                example: A small red photogallery of 15 images.
                <br>
                example: A big green photogalerry with photos "https://www.shutterstock.com/image-photo", "https://www.shutterstock.com/image-photo", "https://www.shutterstock.com/image-photo".
                <br>
                <br>
    
                a [{size}] {sliderType} [with minimum value of {number} and maximum value of {number}].
                <br>
                example: A big opacity slider with minimum value of 15 and maximum value of 78.
                <br>
                <br>
    
                a [[{size}] [{backgrondColor}]] user profile [with [{textStyle}] [{color}] username ["{textString}"] and image with source="{imageReference}"] [placed {placement}].
                <br>
                example: A small red user profile with Arial red username "alex" and image with source="https://www.shutterstock.com/profile".
                <br>
                <br>
    
                a [{size}] calender.
                <br>
                example: A medium calendar.
                <br>
            </p>
        </section>
    </section>

    <section id="implemented-api">
        <h2><span>2. </span>Implemented API</h2>
        <p>
            <b>Default API functionality</b>
            <br>
            One of the routes is /audio which has an query argument seconds. By using the values of this query argument we will be able to obtain an 
            mp3 audio file between 1 and 168 seconds. Another route is /video which is very similar to audio, because it has the same query parameter
            seconds and returns a video having the length of the specified argument and the file type is mp4. Last one is /image which has an query
            argument type which can take three values [default, profile, button] which of course are returned when the user does not provide these 
            values of images.
        </p>

        <p>
            <b>Explain route /language</b>
            <br>
            As explained already above, this route will translate the text natural language constructed using the <a href="#language">language</a>  constructs, to the
            <a href="#JsonResponseSchema">JsonResponseSchema</a>. The request will be a post having respecting <a href="#JsonResponseSchema">JsonResponseSchema</a>.
            Why the request is that simple? Because it only needs the text from the user and all the necessary functionality will be handled by the backend.

            <br>
            <br>

            Explaining the flow of the backend from a overview point, when we call the route the application sends the data to a <a href="#LanguageParser">LanguageParser</a>
            instance. This instance will return at the end the result as a json. It tries to split the text by already knows components and afterwords validates
            the existing components if they respect the criteria from the <a href="#language">language</a>. After that every element is parsed by their type, so
            every element will have a dedicated parser. The result is then transformed into Entity class. Inside the entity class, we have a mechanism which will
            find all the not specified properties and query the antology for default values. Of course even at this part, we have specific query for every
            component. At the end the result data are agregated and returned.
            <br>
            <br>
        </p>
    </section>

    <section id="rdf-model">
        <h2><span>3. </span>RDF based knowledge model - Ontology</h2>
        <p id="ontology">
            <br>
            The ontology was created exactly for mapping existing components properties. At top level, under owl:Thing, we have TextualElement
            and WebElement. Textual Element is a more abtract class which refers to text and its properties: font color, size, style, decoration.
            Under this we have Label, Text and Username, which are different entities, and also have different constraints. For example, Username
            string value must be between 3 and 16 characters, text can have any length, and label must have at most 128 characters. Moving to
            WebElement, it is a generic object which contains properties hold by all elements. As an child of this, we have the well known
            CompositionalElement and StructuralElement classes. In addition, here is also present the alert element as it cannot be considered of
            any of the other types. Now, looking at compositionalElement, we again seperate it into TextBasedElements, which refer to elements that
            are mainly based on text and NonTextBasedElements. Between TextBasedElements we have: Heading, Paragraph, Link, TextInput, SearchInput.
            Between NonTextBasedElements we have: Video, ZoomSlider, OpacitySlider, Audio, PhotoGallery, Calendar, Image, buttons(Cancel, download,
            save, edit, submit, reset). Going back to strucural elements, as its child we have: Table, OrderedList and different sections as Main,
            Footer, Header, NavigationBar, Aside. For a better understanding please see Ontology.owl. Also, take a look the the below image about
            ontology.
            <br><br>
            <img class="img-ss" src="architecture documentation\images\antologyPretege.png" alt="antologyPretege">
            
        </p>
    </section>

    <section id="external-data">
        <h2><span>4. </span>Use of external data</h2>
        <p>
            p
        </p>

    </section>

    <section id="diagrams">
        <h2><span>5. </span>Diagrams</h2>
        <p>
            <b>C4-level1</b><br>
            <img class="img-ss-small" src="architecture documentation\diagrams\c4 diagrams\C4_level1.png" alt="antologyPretege">
            <br><br>
            <b>C4-level2</b><br>
            <img class="img-ss-small" src="architecture documentation\diagrams\c4 diagrams\C4_level2.png" alt="antologyPretege">
            <br><br>
            <b>C4-level3</b><br>
            <img class="img-ss-small" src="architecture documentation\diagrams\c4 diagrams\C4_level3.png" alt="antologyPretege">
            <br><br>
            <b>Use case diagram</b><br>
            <img class="img-ss-small" src="architecture documentation\diagrams\use case diagrams\use-case.png" alt="antologyPretege">
            <br><br>
            <b>Data flow diagram</b><br>
            <img class="img-ss-small img-bg" src="architecture documentation\diagrams\data flow diagrams\data-flow.png" alt="antologyPretege">
            <br><br>
        </p>

    </section>



    <section id="references">
        <h2><span>4. </span>Referințe</h2>
            <ul>
                <li property="schema:citation" typeof="schema:WebSite" resource="https://developer.mozilla.org/en-US/">
                    <cite property="schema:name">
                        <a href="https://developer.mozilla.org/en-US/">MDN Web Docs</a>
                    </cite>
                </li>
            </ul>

    </section>

</body>

</html>
