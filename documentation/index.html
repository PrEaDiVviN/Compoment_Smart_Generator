<!DOCTYPE html>
<html lang="ro" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>UICS - technical report</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&family=Ubuntu:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="/public/unwe.ico">
</head>

<body prefix="schema: http://schema.org">
    <header>
        <h1>UICS - technical report</h1>
    </header>

    <ol>
        <li><span>1. </span><a href="#introduction">Introduction</a></li>
        <li>
            <span>2. </span><a href="#application-architecture">Application architecture</a>
            <ol>
                <li><span>2.1 </span><a href="#frontend">Frontend</a></li>
                <li><span>2.2 </span><a href="#backend">Backend</a></li>
            </ol>
        </li>
        <li><span>3. </span><a href="#data-principles">Ontology</a></li>
        <li><span>4. </span><a href="#linked-data-principles">Linked data principles</a></li>
    </ol>

    <div class="top-info" role="contentinfo">
        <dl>
            <dt>Authors</dt>
            <dd typeof="schema:ContributorRole" property="schema:author">
                <span typeof="schema:Person">
                    <meta property="schema:givenName" content="Alexandru">
                    <meta property="schema:additionalName" content="Dumitru">
                    <meta property="schema:familyName" content="Huțu">
                    <a href="https://github.com/PrEaDiVviN">
                        <span property="schema:name">Alexandru-Dumitru Huțu</span>
                    </a>
                </span>
            </dd>
            <dd typeof="schema:ContributorRole" property="schema:author">
                <span typeof="schema:Person">
                    <meta property="schema:givenName" content="Iulian">
                    <meta property="schema:familyName" content="Vultur">
                    <a href="https://github.com/iulyus01">
                        <span property="schema:name">Iulian Vultur</span>
                    </a>
                </span>
            </dd>
            <dt>Licență</dt>
            <dd>
                <a href="https://opensource.org/licenses/MIT">MIT</a>
            </dd>
        </dl>
    </div>

    <section id="introduction">
        <h2><span>1. </span>Introduction</h2>
        <p>
            UICS - ui component smart generator - is an app which can cleverly suggest and generate
            the proper controls for various Web interfaces by using a set of controlled language constructs.
            <!-- <span typeof="schema:GovernmentOrganization" resource="https://data.gov.ro/dataset">
                <span property="schema:copyrightHolder" typeof="Organization">
                    <meta property="schema:name" content="Data Governamental">
                    <meta property="schema:url" content="https://data.gov.ro">
                </span>
                <a href="https://data.gov.ro/dataset?q=somaj&sort=metadata_modified+desc">
                    <span property="schema:name">
                        datelor publice referitoare la șomajul din România
                    </span>
                </a>
            </span> -->
        </p>
    </section>

    <section id="application-architecture">
        <h2><span>2. </span>General application architecture</h2>
        <p>
            The application is divided into two parts:
            <ul>
                <li>
                    the ui interface where the user has access
                </li>
                <li>
                    the API which is called when the user submits a request
                </li>
            </ul>
        </p>
        <p>
            The ui consists of a formular for the user where they may type in the description of a Web interface by using a set of controlled language constructs 
            based on which a new page will be generated. The user will be able to access the new page by following the link provided after submitting the request.
        </p>
        <img class="img-ss-smaller img-bg" src="C4_level1.png" alt="Screenshot of information table structure">
        <p>
            <br>
            Examples of descriptions using language constructs:
            <ul>
                <li>
                    Build a section with <i>x</i> images|videos and <i>y</i> paragraphs placed below|above|left|right.
                </li>
                <li>
                    Build main section having a user profile with minimum 2 paragraph, 1 image and a submit button labeled "Edit" vertically|horizontally arranged.
                </li>
            </ul>
        </p>
        
        
        <section id="frontend">
            <h3><span>2.1 </span>Frontend</h3>

            <p>
                The frontend side of the project is made using the 
                <span typeof="schema:WebSite" resource="https://reactjs.org/">
                    <span property="schema:copyrightHolder" typeof="WebSite">
                        <meta property="schema:name" content="amCharts">
                        <meta property="schema:url" content="https://reactjs.org/">
                    </span>
                    <a href="https://reactjs.org/"><span property="schema:name">React</span></a>
                </span>
                library and contains 2 pages.
                <br>
                On the <span class="mono">/</span> path the implementation is straightforward, as the text from the formular will be sent in a 
                <span typeof="schema:WebAPI">
                    <meta property="documentation" content="TODO link to the api documentation">
                    POST
                </span>
                request to the API server and a link will become available to lead the user to the newly generated interface template.
                <br>
                On the <span class="mono">/generateTemplate/:uuid</span> path, the shown page will contain the generated interface with the specified components and the 
                required inputs for the user to finish setting the displayed information.
            </p>
        </section>

        <span class="mono">
            ##################################################################################################################################################################
        </span><br>
        <span class="mono">
            ##################################################################################################################################################################
        </span><br>
        <span class="mono">to be continued</span><br>
        <span class="mono">
            ##################################################################################################################################################################
        </span><br>
        <span class="mono">
            ##################################################################################################################################################################
        </span><br>


        <section id="backend">
            <h3><span>2.2 </span>Backend</h3>

            <p>
                Acest tabel conține datele de conectare ale administratorilor. Acesta, împreună cu un tabel de tokenuri ajută la menținerea sesiunii
                unui administrator.
            </p>

            <img class="img-ss-smaller" src="AdministratorsTable.png" alt="Screenshot of information table structure">
            <img src="ArhitecturaAplicatieiTW(1).svg" alt="Arhitectura aplicatiei">


        </section>

    </section>

    <section id="linked-data-principles">
        <h2><span>5. </span>Linked data principles</h2>
        <p>
            .....
            <br>
            <b>The four rules</b>
            <br>
            1. Use URIs as names for things
            <br>
            2. Use HTTP URIs so that people can look up those names.
            <br>
            3. When someone looks up a URI, provide useful information, using the standards (RDF*, SPARQL)
            <br>
            4. Include links to other URIs. so that they can discover more things.
            <br>
            ...
        </p>

    </section>










    <section id="pages">
        <h2><span>6. </span>Paginile aplicației Web</h2>

        <section id="pages-home">
            <h3><span>6.1 </span>Home</h3>
            <p>
                Pagina Home
                <!-- <span typeof="schema:WebSite" resource="to be added hosted TODO">
                    <span property="schema:copyrightHolder" typeof="WebSite">
                        <meta property="schema:name" content="Home Page">
                        <meta property="schema:url" content="to be added hosted TODO">
                    </span>
                    <a href="to be added hoste TODO"><span property="schema:name">Home</span></a>
                </span> -->
                conține informații pe scurt referitoare la numărul de șomeri din România, numărul de șomeri din județul tău,
                un buton ce duce la statisticile cu aceste informații și alt buton care duce la API.
            </p>

            <img src="Home.png" alt="Screenshot of home page" class="img-ss">
        </section>


        <section id="pages-statistics">
            <h3><span>6.2 </span>Statistics</h3>
            <p>
                În această pagină, utilizatorul alege ce județe dorește să vizualizeze prin intermediul barei de căutare sau a hărții.
                De asemenea, acesta poate alege între un line-graph, bar plot sau pie chart, între categoriile de date (vârsta, gen, educație
                mediu, îndemnizare) și perioada pentru care se afișează datele.
                <br>
                <br>
                Acesta poate descărca diagrama generată în format SVG, CSV sau PDF.
            </p>

            <img class="img-ss" src="Statistics.png" alt="Screenshot of statistics page">

            <img class="img-ss" src="UseCase-TW(3).svg" alt="Use case diagram of statistics page">

        </section>

        <section id="pages-API">
            <h3><span>6.3 </span>API</h3>
            <p>
                În această pagină se oferă documentația API-ul oferit de website-ul nostru.
                <br>
                Este prezentat formatul fișierului JSON ce trebuie trimis la server pentru a putea primi rezultatele dorite
                și cateva exemple de cereri și răspunsuri.
            </p>

            <img src="API.png" alt="Screenshot of API page" class="img-ss">

        </section>

        <section id="pages-admin">
            <h3><span>6.4 </span>Admin</h3>
            <p>
                În această pagină te conectezi ca administrator și ai posibilitatea de a adăugat sau șterge intrări din baza de date
            </p>

            <img src="Admin.png" alt="Screenshot of admin page" class="img-ss">

        </section>
    </section>




    <section id="implementation">
        <h2><span>7. </span>Detalii de implementare</h2>
        <section id="implementation-wisps">
            <h3><span>7.1 </span>Wisps</h3>
            <p>
                Fundalul paginii are o animație creată din buline care se plimbă și lasă în urmă o linie cu opacitate ce scade în timp.
                Efectul creat dinamizează background-ul paginii.
                Bulinele sunt de fapt o imagine care își schimbă poziția în timp și linia lăsată în urmă este un array de linii a căror opacitate scade
                cu cât se îndepărtează mai tare de bulină.
                <br><br>
                Bulinele se pot "izbi" de unele elemente HTML, schimbându-și traiectoria, simulând efectul unui ricoșeu. Pentru a face acest lucru,
                elementele de care se pot izbi au clasa "collision-box".

                Coliziunile cu elementele HTML se verifică cu următoare funcție:
            </p>
            <pre>
                <code class="language-javascript">
                    function intersects(line1X1, line1Y1, line1X2, line1Y2, line2X1, line2Y1, line2X2, line2Y2) {
                        var det, gamma, lambda;
                        det = (line1X2 - line1X1) * (line2Y2 - line2Y1) - (line2X2 - line2X1) * (line1Y2 - line1Y1);
                        if(det === 0) {
                            return false;
                        } else {
                            lambda = ((line2Y2 - line2Y1) * (line2X2 - line1X1) + (line2X1 - line2X2) * (line2Y2 - line1Y1)) / det;
                            gamma = ((line1Y1 - line1Y2) * (line2X2 - line1X1) + (line1X2 - line1X1) * (line2Y2 - line1Y1)) / det;
                            return (0 &lt; lambda && lambda &lt; 1) && (0 &lt; gamma && gamma &lt; 1);
                        }
                    };
                </code>
            </pre>
        </section>


        <section id="implementation-search-bar">
            <h3><span>7.2 </span>Search bar</h3>
            <p>
                În primul rând, pentru o utilizare ușoară a search-bar-ului, am implementat-o astfel încât să nu depindă de diacritice, litere mari/mici sau spații.
            </p>
            <pre>
                <code class="language-javascript">
                    //fac aceste transformari ca sa nu conteze daca scrii cu diacritice sau nu
                    var normalizedCountyName = countyIdtoNameMap[id].toLowerCase();
                    normalizedCountyName = normalizedCountyName.replace(/ș/g, 's');
                    normalizedCountyName = normalizedCountyName.replace(/ț/g, 't');
                    normalizedCountyName = normalizedCountyName.replace(/ă/g, 'a');
                    normalizedCountyName = normalizedCountyName.replace(/â/g, 'a');
                    normalizedCountyName = normalizedCountyName.replace(/î/g, 'i');

                    //also, scoatem whitespace-ul
                    var normalizedInput = searchInput.toLowerCase().trim();
                    normalizedInput = normalizedInput.replace(/ș/g, 's');
                    normalizedInput = normalizedInput.replace(/ț/g, 't');
                    normalizedInput = normalizedInput.replace(/ă/g, 'a');
                    normalizedInput = normalizedInput.replace(/â/g, 'a');
                    normalizedInput = normalizedInput.replace(/î/g, 'i');
                </code>
            </pre>
            <br>
            <p>
                Pentru fiecare caracter introdus în search-bar, se actualizează județele afișate.
                Ca un județ să fie afișat, acesta trebuie să nu fie deja adăugat în lista de județe deja selectate și să înceapă cu șirul de caractere
                din search-bar normalizat.
            </p>
        </section>

        <section id="implementation-map">
            <h3><span>7.3 </span>Map</h3>
            <p>
                Am ales să folosim un
                <span typeof="schema:DefinedTerm" resource="https://wikipedia.org">
                    <span property="schema:copyrightHolder" typeof="WebSite">
                        <meta property="schema:name" content="Wikipedia">
                        <meta property="schema:url" content="https://ro.wikipedia.org/wiki/Scalable_Vector_Graphics">
                    </span>
                    <a href="https://ro.wikipedia.org/wiki/Scalable_Vector_Graphics"><span property="schema:name">svg</span></a>
                </span>
                oferit de
                <span typeof="schema:WebSite" resource="https://www.amcharts.com/">
                    <span property="schema:copyrightHolder" typeof="WebSite">
                        <meta property="schema:name" content="amCharts">
                        <meta property="schema:url" content="https://www.amcharts.com/svg-maps/?map=romania">
                    </span>
                    <a href="https://www.amcharts.com/svg-maps/?map=romania"><span property="schema:name">amCharts</span></a>
                </span>
                pentru a face o hartă politică interactivă. Fiecare path din svg reprezintă un județ, care este memorat într-o listă de județe:
                <br><br>
                <code class="language-javascript">
                    counties = document.getElementsByTagName('path');
                </code>
                <br><br>
                Pentru fiecare element, adăugam un event listener pentru a-l face interactiv și pentru a reacționa la click-ul utilizatorului.
            </p>
        </section>

        <section id="implementation-charts">
            <h3><span>7.4 </span>Charts</h3>
            <p>
                Pentru afișarea chart-urilor am folosit librăria oferită de
                <span typeof="schema:WebSite" resource="https://www.chartjs.org/">
                    <span property="schema:copyrightHolder" typeof="WebSite">
                        <meta property="schema:name" content="amCharts">
                        <meta property="schema:url" content="https://www.chartjs.org/docs/latest/">
                    </span>
                    <a href="https://www.chartjs.org/docs/latest/"><span property="schema:name">Charts.js</span></a>
                </span>

                . Datele diagramelor se actualizează odată cu fiecare județ selectat și pot fi afișate în 3
                tipuri diferite(line, bar, pie);

            </p>

            <pre>
                <code class="language-javascript">
                    let chart = new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'],
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            animation: {
                                duration: 400
                            },
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero: true
                                    }
                                }]
                            }
                        }
                    });
                </code>
            </pre>
        </section>

    </section>

    <section id="references">
        <h2><span>8. </span>Referințe</h2>
        <!-- <p> -->
            <ul>
                <li property="schema:citation" typeof="schema:WebSite" resource="https://developer.mozilla.org/en-US/">
                    <cite property="schema:name">
                        <a href="https://developer.mozilla.org/en-US/">MDN Web Docs</a>
                    </cite>
                </li>
                <li property="schema:citation" typeof="schema:WebSite" resource="https://www.chartjs.org/docs/latest/">
                    <cite property="schema:name">
                        <a href="https://www.chartjs.org/docs/latest/">Charts.js documentation</a>
                    </cite>
                </li>
                <li property="schema:citation" typeof="schema:WebSite" resource="https://www.amcharts.com/svg-maps/?map=romania">
                    <cite property="schema:name">
                        <a href="https://www.amcharts.com/svg-maps/?map=romania">Map from amCharts</a>
                    </cite>
                </li>
                <li property="schema:citation" typeof="schema:WebSite" resource="https://www.w3schools.com/">
                    <cite property="schema:name">
                        <a href="https://www.w3schools.com/">w3schools</a>
                    </cite>
                </li>
                <li property="schema:citation" typeof="schema:WebSite" resource="https://prismjs.com/index.html">
                    <cite property="schema:name">
                        <a href="https://prismjs.com/index.html">Prism</a>
                    </cite>
                </li>
                <li property="schema:citation" typeof="schema:WebSite" resource="http://iulyus01.com/">
                    <cite property="schema:name">
                        <a href="http://iulyus01.com/">Inspiratia pentru wisps</a>
                    </cite>
                </li>
            </ul>
        <!-- </p> -->

    </section>

    <section id="Presenting">
        <h2><span>9. </span>Video de prezentare</h2>
        <iframe allowfullscreen src="https://www.youtube.com/embed/40vMUPuyUEs"></iframe>
    </section>

</body>

</html>
